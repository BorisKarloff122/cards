<div class="formBlock dialogBox">
  <div class="loginImage"></div>
  <div class="title">Sign in
    <div class="sub_title">Fill the form to sign in</div>
    <div class="regMessage">{{regMessage}}</div>
  </div>
  <form [formGroup]="regForm">
    <mat-form-field>
      <input matInput formControlName="userName" type="text" placeholder="User Name">
      <mat-error *ngIf="getter.userName.invalid && isSubmitted ||
       getter.userName.invalid && getter.userName.touched">
        <span *ngIf = "getter.userName.errors.required"> User name cannot be empty!</span>
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <input matInput
             formControlName="userPassword"
             type="{{showPassword ? 'text': 'password'}}"
             placeholder="User Password">
      <mat-icon
        class = "icon"
        style="color:#fff"
        (click)="changePasswordView()">
        {{showPassword ? 'visibility' : 'visibility_off'}}
      </mat-icon>
      <mat-error *ngIf="getter.userPassword.invalid && isSubmitted
      || getter.userPassword.invalid && getter.userPassword.touched">
        <span *ngIf = "getter.userPassword.errors.required">
          Password cannot be empty!
        </span>
        <span *ngIf = "getter.userPassword.value.length > 0 && getter.userPassword.value.length < 6">
          Password cannot be shorter than 6 characters!
          Entered {{getter.userPassword.value.length}} characters
        </span>
      </mat-error>
    </mat-form-field>
    <mat-form-field *ngIf = "getter.userPassword.value.length > 5">
      <input matInput
             name = "passMatch"
             formControlName = "passwordMatch"
             placeholder = "Repeat Password"
             type = "{{showPassword ? 'text': 'password'}}"
             (input) = "passRepeat()"
             autoComplete = 'off'>
        <div
          class = "mat-q-error"
          *ngIf = "!passwordsMatch">
          Passwords must match!
        </div>
    </mat-form-field>
    <mat-form-field>
      <input matInput formControlName = "email" type="text" placeholder="Email">
      <mat-error *ngIf = "getter.email.invalid && isSubmitted">
        <span
          *ngIf = "getter.email.value.length === 0">
          Email cannot be empty!
        </span>
        <span
          *ngIf = "getter.email.dirty &&
          getter.email.value.length > 0 &&
          getter.email.invalid">Please enter a valid email</span>
      </mat-error>
    </mat-form-field>
    <div class="line">
      <a [routerLink] = "['../login']">
        <mat-icon>chevron_left</mat-icon>
        Sign in
      </a>
    </div>
    <div class="actions">
      <button mat-raised-button (click)="submitForm()">Sign Up</button>
    </div>
  </form>
</div>
